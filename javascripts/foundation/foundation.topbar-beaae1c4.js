!function(t,s,e){"use strict";Foundation.libs.topbar={name:"topbar",version:"4.3.1",settings:{index:0,stickyClass:"sticky",custom_back_text:!0,back_text:"Back",is_hover:!0,mobile_show_parent_link:!0,scrolltop:!0,init:!1},init:function(e,i,a){Foundation.inherit(this,"data_options");var n=this;return"object"==typeof i?t.extend(!0,this.settings,i):"undefined"!=typeof a&&t.extend(!0,this.settings,a),"string"!=typeof i?(t(".top-bar, [data-topbar]").each(function(){t.extend(!0,n.settings,n.data_options(t(this))),n.settings.$w=t(s),n.settings.$topbar=t(this),n.settings.$section=n.settings.$topbar.find("section"),n.settings.$titlebar=n.settings.$topbar.children("ul").first(),n.settings.$topbar.data("index",0);var e=t("<div class='top-bar-js-breakpoint'/>").insertAfter(n.settings.$topbar);n.settings.breakPoint=e.width(),e.remove(),n.assemble(),n.settings.is_hover&&n.settings.$topbar.find(".has-dropdown").addClass("not-click"),n.settings.$topbar.parent().hasClass("fixed")&&t("body").css("padding-top",n.outerHeight(n.settings.$topbar))}),n.settings.init||this.events(),this.settings.init):this[i].call(this,a)},timer:null,events:function(){var e=this,i=this.outerHeight(t(".top-bar, [data-topbar]"));t(this.scope).off(".fndtn.topbar").on("click.fndtn.topbar",".top-bar .toggle-topbar, [data-topbar] .toggle-topbar",function(a){var n=t(this).closest(".top-bar, [data-topbar]"),o=n.find("section, .section");n.children("ul").first(),a.preventDefault(),e.breakpoint()&&(e.rtl?(o.css({right:"0%"}),o.find(">.name").css({right:"100%"})):(o.css({left:"0%"}),o.find(">.name").css({left:"100%"})),o.find("li.moved").removeClass("moved"),n.data("index",0),n.toggleClass("expanded").css("height","")),n.hasClass("expanded")?n.parent().hasClass("fixed")&&(n.parent().removeClass("fixed"),n.addClass("fixed"),t("body").css("padding-top","0"),e.settings.scrolltop&&s.scrollTo(0,0)):n.hasClass("fixed")&&(n.parent().addClass("fixed"),n.removeClass("fixed"),t("body").css("padding-top",i))}).on("click.fndtn.topbar",".top-bar li.has-dropdown",function(s){if(!e.breakpoint()){var i=t(this),a=t(s.target),n=i.closest("[data-topbar], .top-bar");n.data("topbar"),(!e.settings.is_hover||Modernizr.touch)&&(s.stopImmediatePropagation(),"A"===a[0].nodeName&&a.parent().hasClass("has-dropdown")&&s.preventDefault(),i.hasClass("hover")?i.removeClass("hover").find("li").removeClass("hover"):i.addClass("hover"))}}).on("click.fndtn.topbar",".top-bar .has-dropdown>a, [data-topbar] .has-dropdown>a",function(s){if(e.breakpoint()){s.preventDefault();var i=t(this),a=i.closest(".top-bar, [data-topbar]"),n=a.find("section, .section"),o=a.children("ul").first(),r=(i.next(".dropdown").outerHeight(),i.closest("li"));a.data("index",a.data("index")+1),r.addClass("moved"),e.rtl?(n.css({right:-(100*a.data("index"))+"%"}),n.find(">.name").css({right:100*a.data("index")+"%"})):(n.css({left:-(100*a.data("index"))+"%"}),n.find(">.name").css({left:100*a.data("index")+"%"})),a.css("height",e.outerHeight(i.siblings("ul"),!0)+e.height(o))}}),t(s).on("resize.fndtn.topbar",function(){e.breakpoint()||t(".top-bar, [data-topbar]").css("height","").removeClass("expanded").find("li").removeClass("hover")}.bind(this)),t("body").on("click.fndtn.topbar",function(s){var e=t(s.target).closest("[data-topbar], .top-bar");e.length>0||t(".top-bar li, [data-topbar] li").removeClass("hover")}),t(this.scope).on("click.fndtn",".top-bar .has-dropdown .back, [data-topbar] .has-dropdown .back",function(s){s.preventDefault();var i=t(this),a=i.closest(".top-bar, [data-topbar]"),n=a.children("ul").first(),o=a.find("section, .section"),r=i.closest("li.moved"),d=r.parent();a.data("index",a.data("index")-1),e.rtl?(o.css({right:-(100*a.data("index"))+"%"}),o.find(">.name").css({right:100*a.data("index")+"%"})):(o.css({left:-(100*a.data("index"))+"%"}),o.find(">.name").css({left:100*a.data("index")+"%"})),0===a.data("index")?a.css("height",""):a.css("height",e.outerHeight(d,!0)+e.height(n)),setTimeout(function(){r.removeClass("moved")},300)})},breakpoint:function(){return t(e).width()<=this.settings.breakPoint||t("html").hasClass("lt-ie9")},assemble:function(){var s=this;this.settings.$section.detach(),this.settings.$section.find(".has-dropdown>a").each(function(){var e=t(this),i=e.siblings(".dropdown"),a=e.attr("href");if(s.settings.mobile_show_parent_link&&a&&a.length>1)var n=t('<li class="title back js-generated"><h5><a href="#"></a></h5></li><li><a class="parent-link js-generated" href="'+a+'">'+e.text()+"</a></li>");else var n=t('<li class="title back js-generated"><h5><a href="#"></a></h5></li>');1==s.settings.custom_back_text?n.find("h5>a").html("&laquo; "+s.settings.back_text):n.find("h5>a").html("&laquo; "+e.html()),i.prepend(n)}),this.settings.$section.appendTo(this.settings.$topbar),this.sticky()},height:function(s){var e=0,i=this;return s.find("> li").each(function(){e+=i.outerHeight(t(this),!0)}),e},sticky:function(){var e="."+this.settings.stickyClass;if(t(e).length>0){var i,a=t(e).length?t(e).offset().top:0,n=t(s),o=this.outerHeight(t(".top-bar"));t(s).resize(function(){clearTimeout(i),i=setTimeout(function(){a=t(e).offset().top},105)}),n.scroll(function(){n.scrollTop()>a?(t(e).addClass("fixed"),t("body").css("padding-top",o)):n.scrollTop()<=a&&(t(e).removeClass("fixed"),t("body").css("padding-top","0"))})}},off:function(){t(this.scope).off(".fndtn.topbar"),t(s).off(".fndtn.topbar")},reflow:function(){}}}(Foundation.zj,this,this.document);